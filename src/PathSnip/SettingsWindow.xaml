<Window x:Class="PathSnip.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="PathSnip 设置"
        Width="480" Height="540"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        ShowInTaskbar="True">
    <Window.Resources>
        <Style TargetType="TextBlock">
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
        <Style TargetType="Button">
            <Setter Property="Padding" Value="16,6"/>
            <Setter Property="Background" Value="#0078D4"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>
        <Style TargetType="CheckBox">
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Margin" Value="0,6"/>
        </Style>
    </Window.Resources>
    
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="12"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="12"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="12"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="12"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="12"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="20"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            
            <!-- 快捷键设置 -->
            <GroupBox Grid.Row="0" Header="快捷键设置">
                <StackPanel Margin="10">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="截图快捷键：" Width="90"/>
                        <TextBox x:Name="HotkeyTextBox" 
                                 Width="200" 
                                 FontSize="13" 
                                 Padding="8,4"
                                 PreviewKeyDown="HotkeyTextBox_PreviewKeyDown"
                                 GotFocus="HotkeyTextBox_GotFocus"/>
                    </StackPanel>
                    <TextBlock x:Name="HotkeyHint" 
                               Text="点击后按下快捷键" 
                               Foreground="Gray" 
                               FontSize="11" 
                               Margin="95,4,0,0"/>
                </StackPanel>
            </GroupBox>
            
            <!-- 存储设置 -->
            <GroupBox Grid.Row="2" Header="存储设置">
                <StackPanel Margin="10">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="保存目录：" Width="90"/>
                        <TextBox x:Name="SaveDirectoryTextBox" 
                                 Width="200" 
                                 FontSize="13" 
                                 Padding="8,4"/>
                        <Button Content="浏览..." 
                                Margin="10,0,0,0" 
                                Padding="10,4"
                                Click="BrowseButton_Click"/>
                    </StackPanel>
                    
                    <StackPanel Orientation="Horizontal" Margin="0,12,0,0">
                        <TextBlock Text="文件名格式：" Width="90"/>
                        <TextBox x:Name="FileNameTemplateTextBox" 
                                 Width="200" 
                                 FontSize="13" 
                                 Padding="8,4"/>
                    </StackPanel>
                    <TextBlock x:Name="FileNameTemplateHint" 
                               Text="支持 {yyyy} {MM} {dd} {HH} {mm} {ss} {GUID}" 
                               Foreground="Gray" 
                               FontSize="10" 
                               Margin="95,4,0,0"/>
                </StackPanel>
            </GroupBox>
            
            <!-- 剪贴板设置 -->
            <GroupBox Grid.Row="4" Header="剪贴板设置">
                <StackPanel Margin="10">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="剪贴板模式：" Width="90"/>
                        <ComboBox x:Name="ClipboardModeComboBox" Width="200" SelectedIndex="0">
                            <ComboBoxItem Content="仅路径" Tag="PathOnly"/>
                            <ComboBoxItem Content="仅图片" Tag="ImageOnly"/>
                            <ComboBoxItem Content="图片+路径" Tag="ImageAndPath"/>
                        </ComboBox>
                    </StackPanel>
                    
                    <StackPanel Orientation="Horizontal" Margin="0,12,0,0">
                        <TextBlock Text="路径格式：" Width="90"/>
                        <ComboBox x:Name="PathFormatComboBox" Width="200" SelectedIndex="0">
                            <ComboBoxItem Content="纯文本 (D:\path\image.png)" Tag="Text"/>
                            <ComboBoxItem Content="Markdown (![image](D:\path\image.png))" Tag="Markdown"/>
                            <ComboBoxItem Content="HTML (&lt;img src=&quot;...&quot;/&gt;)" Tag="HTML"/>
                        </ComboBox>
                    </StackPanel>
                </StackPanel>
            </GroupBox>
            
            <!-- 系统设置 -->
            <GroupBox Grid.Row="6" Header="系统设置">
                <StackPanel Margin="10">
                    <CheckBox x:Name="StartWithWindowsCheckBox" 
                              Content="开机自动启动"
                              Checked="StartWithWindows_Changed"
                              Unchecked="StartWithWindows_Changed"/>
                    
                    <CheckBox x:Name="ShowNotificationCheckBox" 
                              Content="截图后显示通知"
                              Checked="ShowNotification_Changed"
                              Unchecked="ShowNotification_Changed"/>
                </StackPanel>
            </GroupBox>
            
            <!-- 按钮区域 -->
            <StackPanel Grid.Row="12" Orientation="Horizontal" HorizontalAlignment="Right">
                <Button x:Name="ResetButton" 
                        Content="重置默认" 
                        Background="#6B7280"
                        Margin="0,0,12,0"
                        Click="ResetButton_Click"/>
                <Button x:Name="SaveButton" 
                        Content="保存设置" 
                        Click="SaveButton_Click"/>
            </StackPanel>
        </Grid>
    </ScrollViewer>
</Window>
