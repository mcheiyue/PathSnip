<Window x:Class="PathSnip.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="PathSnip 设置"
        Width="450" Height="470"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        ShowInTaskbar="True">
    <Window.Resources>
        <Style TargetType="TextBlock">
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
        <Style TargetType="Button">
            <Setter Property="Padding" Value="16,6"/>
            <Setter Property="Background" Value="#0078D4"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>
        <Style TargetType="CheckBox">
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>
    </Window.Resources>
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="20"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="20"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="20"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="20"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="20"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="15"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- 快捷键设置 -->
        <StackPanel Grid.Row="0" Orientation="Horizontal">
            <TextBlock Text="截图快捷键：" Width="100"/>
            <TextBox x:Name="HotkeyTextBox" 
                     Width="200" 
                     FontSize="13" 
                     Padding="8,4"
                     PreviewKeyDown="HotkeyTextBox_PreviewKeyDown"
                     GotFocus="HotkeyTextBox_GotFocus"/>
            <TextBlock x:Name="HotkeyHint" 
                       Text="点击后按下快捷键" 
                       Foreground="Gray" 
                       FontSize="11" 
                       Margin="10,0,0,0"
                       VerticalAlignment="Center"/>
        </StackPanel>
        
        <!-- 保存目录 -->
        <StackPanel Grid.Row="2" Orientation="Horizontal">
            <TextBlock Text="保存目录：" Width="100"/>
            <TextBox x:Name="SaveDirectoryTextBox" 
                     Width="200" 
                     FontSize="13" 
                     Padding="8,4"/>
            <Button Content="浏览..." 
                    Margin="10,0,0,0" 
                    Padding="10,4"
                    Click="BrowseButton_Click"/>
        </StackPanel>
        
        <!-- 开机自启 -->
        <CheckBox x:Name="StartWithWindowsCheckBox" 
                  Grid.Row="4" 
                  Content="开机自动启动"
                  Checked="StartWithWindows_Changed"
                  Unchecked="StartWithWindows_Changed"/>
        
        <!-- 截图后通知 -->
        <CheckBox x:Name="ShowNotificationCheckBox" 
                  Grid.Row="6" 
                  Content="截图后显示通知"
                  Checked="ShowNotification_Changed"
                  Unchecked="ShowNotification_Changed"/>
        
        <!-- 剪贴板模式 -->
        <StackPanel Grid.Row="8" Orientation="Horizontal">
            <TextBlock Text="剪贴板模式：" Width="100"/>
            <ComboBox x:Name="ClipboardModeComboBox" Width="200" SelectedIndex="0">
                <ComboBoxItem Content="仅路径" Tag="PathOnly"/>
                <ComboBoxItem Content="仅图片" Tag="ImageOnly"/>
                <ComboBoxItem Content="图片+路径" Tag="ImageAndPath"/>
            </ComboBox>
        </StackPanel>
        
        <!-- 路径格式 -->
        <StackPanel Grid.Row="10" Orientation="Horizontal">
            <TextBlock Text="路径格式：" Width="100"/>
            <ComboBox x:Name="PathFormatComboBox" Width="200" SelectedIndex="0">
                <ComboBoxItem Content="纯文本 (D:\path\image.png)" Tag="Text"/>
                <ComboBoxItem Content="Markdown (![image](D:\path\image.png))" Tag="Markdown"/>
                <ComboBoxItem Content="HTML (&lt;img src=&quot;...&quot;/&gt;)" Tag="HTML"/>
            </ComboBox>
        </StackPanel>
        
        <!-- 文件名模板 -->
        <StackPanel Grid.Row="12" Orientation="Horizontal">
            <TextBlock Text="文件名格式：" Width="100"/>
            <TextBox x:Name="FileNameTemplateTextBox" 
                     Width="200" 
                     FontSize="13" 
                     Padding="8,4"/>
            <TextBlock x:Name="FileNameTemplateHint" 
                       Text="支持 {yyyy}{MM}{dd}{HHmmss}{GUID}" 
                       Foreground="Gray" 
                       FontSize="10" 
                       Margin="10,0,0,0"
                       VerticalAlignment="Center"/>
        </StackPanel>
        
        <!-- 保存按钮 -->
        <Button Grid.Row="12" 
                Content="保存设置" 
                HorizontalAlignment="Right"
                Click="SaveButton_Click"/>
    </Grid>
</Window>
